[gd_scene load_steps=5 format=3 uid="uid://cd06a1jbtm3t3"]

[ext_resource type="Script" uid="uid://cl44mpkc2m4da" path="res://scenes/Components/spike.gd" id="1_dvbgm"]
[ext_resource type="Texture2D" uid="uid://dkb3del6y44r6" path="res://textures/boss-sprites/Placeholder.jpg" id="1_ekcwk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ekcwk"]
size = Vector2(196, 30)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_dvbgm"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(100, 1, 1)
gravity = Vector3(0, -20, 0)
scale_min = 9.7
scale_max = 15.96

[node name="Spike" type="Node2D"]
script = ExtResource("1_dvbgm")

[node name="SpikeTexture" type="Sprite2D" parent="."]
visible = false
scale = Vector2(0.24499997, 0.05)
texture = ExtResource("1_ekcwk")

[node name="SpikeHitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpikeHitbox"]
shape = SubResource("RectangleShape2D_ekcwk")

[node name="Particles" type="GPUParticles2D" parent="."]
position = Vector2(0, 10)
amount = 10
lifetime = 1.5
speed_scale = 3.0
process_material = SubResource("ParticleProcessMaterial_dvbgm")

[node name="SelfDestruct" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[node name="ParticleTimer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[connection signal="body_entered" from="SpikeHitbox" to="." method="_on_area_2d_body_entered"]
[connection signal="timeout" from="SelfDestruct" to="." method="_on_self_destruct_timeout"]
[connection signal="timeout" from="ParticleTimer" to="." method="_on_particle_timer_timeout"]
